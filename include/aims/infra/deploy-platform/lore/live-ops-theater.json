{
  "$schema": "https://aims.dev/schemas/live-ops-theater.json",
  "name": "Live Ops Theater Configuration",
  "version": "1.0.0",
  "description": "Configuration for the user-facing watch-only view of Lil_Hawk operations",

  "comms_chain": {
    "description": "Enforced communication hierarchy",
    "chain": "Lil_Hawks → Chicken Hawk → ACHEEVY → User",
    "rules": [
      "Users never message Lil_Hawks or Chicken Hawk directly",
      "Users only WATCH in Live Ops Theater (read-only)",
      "All user interaction goes through ACHEEVY"
    ]
  },

  "user_view": {
    "description": "What the user always sees",
    "components": {
      "yard_animation": {
        "enabled": true,
        "elements": ["containers", "cranes", "lanes", "workers"],
        "style": "industrial_grid"
      },
      "shift_status_timeline": {
        "enabled": true,
        "phases": ["Plan", "Execute", "Verify", "Receipt"],
        "show_current_phase": true
      },
      "sanitized_event_feed": {
        "enabled": true,
        "max_visible": 50,
        "redaction_applied": true
      },
      "humor_captions": {
        "enabled": true,
        "toggle": true,
        "reduced_during_incidents": true
      },
      "crew_panel": {
        "enabled": true,
        "watch_only": true,
        "shows": ["lil_hawk_designations", "squad_name", "career_level"]
      },
      "security_bar": {
        "enabled": true,
        "indicators": [
          {"name": "mTLS", "source": "network"},
          {"name": "Allowlist", "source": "network"},
          {"name": "Scans", "source": "supply_chain"},
          {"name": "Attestation", "source": "audit"}
        ]
      }
    }
  },

  "user_never_sees": {
    "description": "Strictly hidden from user view",
    "hidden": [
      "secrets",
      "tokens",
      "keys",
      "internal_endpoints",
      "raw_logs",
      "exploit_relevant_details",
      "private_reasoning_traces",
      "debug_output",
      "internal_error_stacks",
      "network_topology_details"
    ]
  },

  "caption_engine": {
    "description": "How Lil_Hawks feel alive in captions",
    "generation_sources": [
      "role + shift phase + project tokens",
      "locale flavor dictionary",
      "internal lore moments (training, ambition, mentorship)",
      "approved persona traits",
      "approved event summaries"
    ],
    "required_tokens": [
      "{UserFirstName}",
      "{ProjectName}",
      "{ShiftId}"
    ],
    "safety_mode": {
      "description": "Humor reduced during incident states",
      "incident_states": ["critical", "warning", "rollback_in_progress"],
      "humor_level": "minimal"
    }
  },

  "caption_templates": {
    "roll_call": [
      "Clocking in for {UserFirstName}'s project: {ProjectName}. Let's move right.",
      "{ShiftId} is live. {SquadName} Squad reporting for duty.",
      "Roll call complete. All Lil_Hawks present and certified."
    ],
    "execution": [
      "Lil_Packer_Hawk: packaging clean. No loose tape.",
      "Lil_Busy_Hawk: running errands like my shoes got Wi-Fi.",
      "Moving containers for {ProjectName}. Smooth sailing.",
      "Wave 2 in progress. Stay in your lanes."
    ],
    "ambition": [
      "Lil_Popeye_Hawk: one day I'm running my own Squad. Today, we lift.",
      "Every manifest is a chance to level up.",
      "Foreman says I'm close to Journeyman. Watch me earn it."
    ],
    "mentorship": [
      "Foreman says: 'Speed is nice. Clean receipts are nicer.'",
      "Hatchling on shadow duty today. Teaching the ropes.",
      "The best Lil_Hawks never stop learning."
    ],
    "humor": [
      "Somebody slide me an electpressso—this manifest got muscles.",
      "Container sealed tighter than my lips about that rollback.",
      "Another day, another deployment. Living the dream."
    ],
    "values": [
      "Do it right, even when nobody's watching—except the flight recorder.",
      "Quality isn't a shortcut. It's the whole path.",
      "We don't cut corners. We seal them."
    ],
    "completion": [
      "Shift {ShiftId} complete. Receipt sealed for {UserFirstName}.",
      "{ProjectName} deployed. No incidents. The way we like it.",
      "Clock out time. See you next shift."
    ],
    "incident_mode": [
      "Anomaly detected. Switching to focused mode.",
      "RedFlag Squad engaged. Monitoring closely.",
      "Safety first. Pausing for verification."
    ]
  },

  "event_stream_schema": {
    "description": "Schema for Live Ops Theater events",
    "event_types": [
      {
        "type": "shift_start",
        "fields": ["shiftId", "squadName", "lilHawkCount", "projectName", "timestamp"]
      },
      {
        "type": "roll_call",
        "fields": ["shiftId", "lilHawkDesignations", "allPresent", "timestamp"]
      },
      {
        "type": "wave_start",
        "fields": ["shiftId", "waveNumber", "stepCount", "timestamp"]
      },
      {
        "type": "capability_execute",
        "fields": ["shiftId", "capabilityId", "lilHawkDesignation", "status", "timestamp"]
      },
      {
        "type": "caption",
        "fields": ["shiftId", "lilHawkDesignation", "captionType", "text", "timestamp"]
      },
      {
        "type": "wave_complete",
        "fields": ["shiftId", "waveNumber", "successCount", "failCount", "timestamp"]
      },
      {
        "type": "verification",
        "fields": ["shiftId", "checkType", "result", "timestamp"]
      },
      {
        "type": "incident",
        "fields": ["shiftId", "severity", "description", "action", "timestamp"]
      },
      {
        "type": "shift_complete",
        "fields": ["shiftId", "receiptId", "durationMs", "lilHawksUsed", "timestamp"]
      }
    ],
    "redaction_rules": [
      {"field": "secrets", "action": "omit"},
      {"field": "tokens", "action": "omit"},
      {"field": "internal_endpoints", "action": "omit"},
      {"field": "error_stacks", "action": "summarize"},
      {"field": "debug_info", "action": "omit"}
    ]
  },

  "deploy_it_vs_guide_me": {
    "deploy_it": {
      "description": "Fast dispatch lane",
      "requirements": [
        "DSP gates pre-approved",
        "OEI (Operational Exposure Index) is low",
        "No new integrations/endpoints",
        "No secrets scope expansion"
      ],
      "user_experience": "Watch the crew work, get receipt"
    },
    "guide_me": {
      "description": "Consultative lane",
      "triggers": [
        "Uncertainty is high",
        "Security packet requires human hold",
        "New integrations/endpoints",
        "Production impact",
        "Secrets scope expands",
        "Anomaly detected"
      ],
      "output": "Manifest for approval, then execution proceeds"
    }
  }
}
