# Copy this file to docker/.stack.env and replace placeholder values before running the stack.
# Any variable declared here is available both to docker compose itself and the containers.

# -------------------------
# Frontend build config
# -------------------------
FRONTEND_BUILD_MODE=production
VITE_API_URL=http://localhost:8000
VITE_GOOGLE_CLIENT_ID=
VITE_STRIPE_PUBLISHABLE_KEY=
VITE_SENTRY_DSN=
VITE_DISABLE_CHAT_MODE=false
VITE_POLICY_DEBUG_EVENTS=false

# Backend policy-layer rollout flags
POLICY_LAYERS_ENABLED=true
POLICY_LAYERS_SHADOW_MODE=false
POLICY_LAYERS_EMIT_DEBUG_EVENTS=true

# -------------------------
# Networking / tunneling
# -------------------------

# Used by backend as TOOL_SERVER_URL. For production, set this to your public tool-server URL.
# For single-host private deployments, you can keep the internal default.
PUBLIC_TOOL_SERVER_URL=http://tool-server:1236

# Optional AIMS bridge mode (ii-agent running standalone, connected to AIMS gateway)
AIMS_BRIDGE_ENABLED=false
AIMS_GATEWAY_URL=
AIMS_BRIDGE_SHARED_SECRET=

NGROK_AUTHTOKEN=replace-with-your-token
NGROK_REGION=us
# -------------------------
# LLM Configuration
# -------------------------
LLM_CONFIGS={"default":{"model":"inception/mercury-2-large","api_type":"custom","base_url":"https://openrouter.ai/api/v1","api_key":"replace-with-your-openrouter-key"}}
RESEARCHER_AGENT_CONFIG={"researcher":{},"report_builder":{},"final_report_builder":{}}

# -------------------------
# OpenRouter / Mercury (Inception Labs)
# -------------------------
# OpenRouter is the primary LLM gateway for ACHEEVY Agent
# Mercury 2 (diffusion LLM) is accessed via OpenRouter or direct API
OPENROUTER_API_KEY=replace-with-your-openrouter-key
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
MERCURY_API_KEY=replace-with-your-mercury-key
MERCURY_BASE_URL=https://api.inceptionlabs.ai/v1

# Google Client
GOOGLE_CLIENT_ID=
GOOGLE_REDIRECT_URI=http://localhost:8000/auth/oauth/google/callback
# JWT EXPIRE TIME
ACCESS_TOKEN_EXPIRE_MINUTES=43200

# -------------------------
# Storage Configuration
# -------------------------
GOOGLE_APPLICATION_CREDENTIALS=/absolute/path/to/ii-agent-service-account.json
# Slide Assets store
SLIDE_ASSETS_PROJECT_ID=
SLIDE_ASSETS_BUCKET_NAME=
# File Upload Store
FILE_UPLOAD_PROJECT_ID=
FILE_UPLOAD_BUCKET_NAME=
# Avatar Store
AVATAR_PROJECT_ID=
AVATAR_BUCKET_NAME=
# Custom Domain for public slides
CUSTOM_DOMAIN=sfile.ii.inc

# -------------------------
# Sandbox Configuration
# -------------------------

SANDBOX_TEMPLATE_ID=m4zta9txnip2o1xq6i8u
TIME_TIL_CLEAN_UP=1800
E2B_API_KEY=

# -------------------------
# Tool server specific config
# -------------------------

STORAGE_CONFIG__GCS_BUCKET_NAME=
STORAGE_CONFIG__GCS_PROJECT_ID=

# -------------------------
# Core infrastructure (Do not modify if you don't know what you are doing)
# -------------------------

POSTGRES_USER=iiagent
POSTGRES_PASSWORD=iiagent
POSTGRES_DB=iiagentdev
POSTGRES_PORT=5432
SANDBOX_DB_NAME=ii_sandbox
SANDBOX_DATABASE_URL=postgresql+asyncpg://iiagent:iiagent@postgres:5432/ii_sandbox
DATABASE_URL=postgresql+asyncpg://iiagent:iiagent@postgres:5432/iiagentdev
REDIS_PORT=6379
BACKEND_PORT=8000
FRONTEND_PORT=1420
SANDBOX_SERVER_PORT=8100
TOOL_SERVER_PORT=1236
NGROK_METRICS_PORT=4040
MCP_PORT=6060
